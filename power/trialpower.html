
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>How many trawls do we need to sample to make sure we can detect a biologically important effect? &#8212; SafetyNet Tech data analytics manual</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="How do we develop our Pisces trial protocols?" href="../trialsscience/trialsscience.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      <img src="../_static/safetynet_logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">SafetyNet Tech data analytics manual</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../landing-page.html">
   SafetyNet Technologies data analytics manifesto
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Ionos VPS server
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../ionosserver/ionosserversetup.html">
   Ionos server setup
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Pisces trial database
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../trialsdatabase/trialsprocessing.html">
   Pisces trial data pre-processing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../trialsdatabase/trialsupload.html">
   Pisces trial database upload
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Pisces trial design
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../trialsscience/trialsscience.html">
   How do we develop our Pisces trial protocols?
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Statistical power - An initial look
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   How many trawls do we need to sample to make sure we can detect a biologically important effect?
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/power/trialpower.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#background">
   Background
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#take-home-message">
   Take home message
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="how-many-trawls-do-we-need-to-sample-to-make-sure-we-can-detect-a-biologically-important-effect">
<h1>How many trawls do we need to sample to make sure we can detect a biologically important effect?<a class="headerlink" href="#how-many-trawls-do-we-need-to-sample-to-make-sure-we-can-detect-a-biologically-important-effect" title="Permalink to this headline">¶</a></h1>
<div class="section" id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>One of the problems with data in general, and ecological data in particular, is the samples are variable in time and space. In fish trawls, for example, we can get skunked, gazillions of fish, or anywhere in between. Whenever we refer to a value - for example fish per haul - we will also have a measure of the variability of this estimate. Commonly this measure will be the standard deviation, which is the average difference between each individual sample, and the overall mean. You may also see the variance (the standard deviation squared), or standard error (the standard deviation divided by the square root of the number of samples).</p>
<p>In formal literature, we may see this stated as a problem of statistical power. In basic terms, this is the probability of finding a difference between sets of samples if it in fact exists. Personally, I don’t buy into the formal power analysis side of things for various technical reasons. The solution is actually far simpler.</p>
<p>Enough of the eye-glazing part, let’s get a better feel for this. Cosgrove et al. 2019 (<a class="reference external" href="https://www.sciencedirect.com/science/article/pii/S0165783618302558?via%3Dihub">https://www.sciencedirect.com/science/article/pii/S0165783618302558?via=ihub</a>) provide some individual tow data examining Nephrops/finfish separation methods in the Celtic sea. Let’s have a quick look at the Haddock &amp; Whiting abundances:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/RawHaddockWhiting.png"><img alt="../_images/RawHaddockWhiting.png" src="../_images/RawHaddockWhiting.png" style="height: 300px;" /></a>
</div>
<p>As a heads-up on boxplots, the box represents the 25th and 75th percentiles (the bulk of the samples, in other words). The line in the middle is the median or center of all the values, and the whiskers are 5% and 95% percentiles.</p>
<p>What do we get from this plot? Haddock catches can be consistently low, with occasional big hits. Whiting is also pretty variable, but we don’t get the skewed pattern in Haddock. This symmetry is actually good for analysis.
In the case of Haddock, we can make the distribution more symmetrical by transforming it. For example, a log<sub>10</sub> transform:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/LogHaddockWhiting.png"><img alt="../_images/LogHaddockWhiting.png" src="../_images/LogHaddockWhiting.png" style="height: 300px;" /></a>
</div>
<p>Well, that fixed Haddock but screwed up Whiting and make it right-skewed. For this data set, log transform Haddock, but leave Whiting as is.</p>
<p>An aside… What does the logarithm (in this case, base 10) actually mean? The scale is actually quite intuitive. log10(1) = 0; log10(10) = 1; log10(100) = 2; log10(1000) = 3; log10(10000) = 4 and so on. Think one, a few, some, a fair amount, lots, buttloads.</p>
<p>Why is this important to us? If we need to get trawlermen to count fishes, they can classify them into tractable defined groups which is easier and foolproof for them. For the analyst, the data can be treated as linear, on a logarithmic scale.</p>
<p>Back to the problem…<br />
Let’s focus on Whiting. We can work on the raw data scale and omit one level of magic. Here is a simple plot of the Whiting data including the zero value (I omitted it above for comparison) and all I have done is repeated the data, but shifted the mean value. So, same values with an arbitrary amount say, 25% &amp; 50% subtracted from the data copy:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/RawSimulatedChange.png"><img alt="../_images/RawSimulatedChange.png" src="../_images/RawSimulatedChange.png" style="height: 300px;" /></a>
</div>
<p>Now we see what the problem is with sample variation. There is no statistically significant difference (p 0.08: close to 0.05 though) in the 25% bycatch reduction treatment. Remember, these are just the original data multiplied by 0.75. 50% reduction is looking a bit better. Visually, we are looking at the degree of overlap in the boxes.</p>
<p>This sample was based on 13 trawls. It looks like for Whiting, we could reasonably expect to detect to detect a 50% reduction with this number of trawls. Think to the Golden Ray trial. We hope to do 15 replicates of each of light on vs off. So this is looking promising.</p>
<p>What happens if we bump up replication? We can do this by simulating a given average and standard deviation, based on the observed values.<br />
In this case I used the observed values and simulated a lognormal distribution (I have to do it this way to avoid zero predicted values.<br />
Compare 10 trawls (p&lt; 0.167 ie. Not statistically significant)</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/LogNormsSimulatedChange10Reps.png"><img alt="../_images/LogNormsSimulatedChange10Reps.png" src="../_images/LogNormsSimulatedChange10Reps.png" style="height: 300px;" /></a>
</div>
<p>Now what if we had sampled 15 trawls in each treatment? p&lt; 0.0028 ie. statistically significant…</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/LogNormsSimulatedChange15Reps.png"><img alt="../_images/LogNormsSimulatedChange15Reps.png" src="../_images/LogNormsSimulatedChange15Reps.png" style="height: 300px;" /></a>
</div>
<p>Exactly the same sample variance, exactly the same difference in mean value - with a difference of only 5 replicates per treatment in each of the sample programs.</p>
</div>
<div class="section" id="take-home-message">
<h2>Take home message<a class="headerlink" href="#take-home-message" title="Permalink to this headline">¶</a></h2>
<p>It’s not worth scrimping on numbers of replicates to do more (say) gear or light sequences changes on a trip. I’m reasonably sure based on this single data set that we are in the right ballpark of replicates. 20 per treatment would be more convincing, but &gt;30 is overkill.</p>
<p>We can check during any trip how the data are looking simply by plotting the data with each tow. If there are outrageous spreads of values, if we can do more tows using the same set up then we can do that. If we get lots of values, and there’s still no difference, then obviously that setup isn’t working. Onto plan B.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>So what can we take home from this little foray?
Quick and dirty graphs give us our primary insight into adequacy of sampling. This can be used in the field to guide sampling.</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./power"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="../trialsscience/trialsscience.html" title="previous page">How do we develop our Pisces trial protocols?</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Craig Syms<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>